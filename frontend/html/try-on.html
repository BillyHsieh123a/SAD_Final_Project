<!DOCTYPE html>
<html lang="en">    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Try-On - Polaritique</title>
    <link rel="stylesheet" href="{{url_for('static', filename='/css/global.css')}}">
    <link rel="stylesheet" href="{{url_for('static', filename='/css/try-on.css')}}">
</head>
<body>
    <header>
        <div class="logo">
            <a href="category">
                <h1>Polaritique</h1>
            </a>
        </div>
        <button class="go-back-btn" onclick="window.history.back();">Go Back</button>
        <div class="icons">
            <i class="fas fa-user" id="profile-icon"></i>
            <i class="fas fa-heart" id="like-icon"></i>
            <i class="fas fa-shopping-bag" id="bag-icon"></i>
        </div>
    </header>

    <main>
        <section class="try-on-section" style="position: relative; width: 512px; height: auto; margin: auto;">

            <!-- ‚¨Ü Upload button in top-left -->
            <form id="try-on-form" enctype="multipart/form-data" style="position: absolute; top: 10px; left: 10px; z-index: 10;">
                <input type="file" id="upload-image" accept="image/*" required hidden onchange="document.getElementById('tryon-submit-btn').click();">
                <button type="button" onclick="document.getElementById('upload-image').click();">‚¨Ü Upload</button>
                <button type="submit" id="tryon-submit-btn" style="display: none;">Submit</button>
            </form>
        
            <!-- üîó Share button in top-right -->
            <button onclick="shareImage()" style="position: absolute; top: 10px; right: 10px; z-index: 10;">
                üîó Share
            </button>
        
            <!-- üñº Result box -->
            <div id="result-section" style="width: 512px; height: 512px; border: 2px solid #000; margin-top: 50px; display: flex; justify-content: center; align-items: center;">
                <img id="processed-image" src="/static/placeholder.png" alt="result" style="max-width: 100%; max-height: 100%; object-fit: contain;">
            </div>
        
            <!-- üß† AI comment button -->
            <div style="margin-top: 20px; text-align: center;">
                <button id="ai-comment-btn" class="btn" onclick="getAIComment()">üí¨ Press to Get AI Comment</button>
                <p id="ai-comment-output" style="margin-top: 10px;"></p>
            </div>
        
        </section>
        
        
    </main>

    <footer>
        <div class="footer-content">
            <p>&copy; 2024 Polaritique. All rights reserved.</p>
            <div class="footer-links">
                <a href="about">About Us</a>
                <a href="contact">Contact</a>
                <a href="privacy-policy">Privacy Policy</a>
                <a href="terms">Terms & Conditions</a>
            </div>
        </div>
    </footer>


    <script src="{{url_for('static', filename='/js/global.js')}}"></script>
    <script src="{{url_for('static', filename='/js/try-on.js')}}"></script>
    <script>
        function getAIComment() {
            const commentBox = document.getElementById('ai-comment-output');
            commentBox.innerText = "üß† Thinking...";
        
            // Simulated AI comment (replace with fetch() later)
            setTimeout(() => {
                commentBox.innerText = "Looking sharp! This outfit is giving futuristic fashion vibes. üî•";
            }, 1000);
            //replace with real fetch later
            // fetch('/get-comment', {
            //     method: 'POST',
            //     headers: { 'Content-Type': 'application/json' },
            //     body: JSON.stringify({ image: 'current' }) // or however you track the image
            // })
            // .then(response => response.json())
            // .then(data => {
            //     commentBox.innerText = data.comment;
            // })
            // .catch(err => {
            //     commentBox.innerText = "‚ùå Error getting AI comment.";
            //     console.error(err);
            // });

        }
        
        function shareImage() {
            const imageUrl = document.getElementById('processed-image').src;
            alert("Share this image: " + imageUrl);  // Replace with real logic later
        }
        </script>
        
</body>
</html>
